


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A curated list of awesome IT projects and resources. Inspired by the awesome list.">
      
      
        <link rel="canonical" href="https://redhatspain.github.io/databases/">
      
      
        <meta name="author" content="inafev">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.1.0">
    
    
      
        <title>Relational Databases and Database DevOps. CrunchyData Postgres Operator - Awesome Kubernetes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.89dc9fe3.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../static/extra.css">
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-167788447-1","awesome kubernetes"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#relational-databases-on-kubernetes-database-devops" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://redhatspain.github.io" title="Awesome Kubernetes" class="md-header-nav__button md-logo" aria-label="Awesome Kubernetes">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Awesome Kubernetes
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Relational Databases and Database DevOps. CrunchyData Postgres Operator
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/redhatspain/redhatspain.github.io/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    redhatspain/redhatspain.github.io
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://redhatspain.github.io" title="Awesome Kubernetes" class="md-nav__button md-logo" aria-label="Awesome Kubernetes">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    Awesome Kubernetes
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/redhatspain/redhatspain.github.io/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    redhatspain/redhatspain.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Introduction
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Introduction" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introduction/" title="Openshift VS Kubernetes" class="md-nav__link">
      Openshift VS Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javaee-to-cloud-native/" title="From Java EE To Cloud Native" class="md-nav__link">
      From Java EE To Cloud Native
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../faq/" title="Microservices FAQ & Kubernetes Native" class="md-nav__link">
      Microservices FAQ & Kubernetes Native
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../sre/" title="Site Reliability Engineering (SRE)" class="md-nav__link">
      Site Reliability Engineering (SRE)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../serverless/" title="Serverless Architectures & Frameworks. OpenFaaS, Knative & Kubeless" class="md-nav__link">
      Serverless Architectures & Frameworks. OpenFaaS, Knative & Kubeless
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      DevOps
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="DevOps" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../devops/" title="DevOps" class="md-nav__link">
      DevOps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cheatsheets/" title="Cheat Sheets" class="md-nav__link">
      Cheat Sheets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gitops/" title="GitOps" class="md-nav__link">
      GitOps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../demos/" title="Demos & Screencasts. OpenShift, Kubernetes, Jenkins Pipelines with JCasC and more" class="md-nav__link">
      Demos & Screencasts. OpenShift, Kubernetes, Jenkins Pipelines with JCasC and more
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      NoOps
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="NoOps" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        NoOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../noops/" title="NoOps" class="md-nav__link">
      NoOps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../serverless/" title="Serverless Architectures & Frameworks. OpenFaaS, Knative & Kubeless" class="md-nav__link">
      Serverless Architectures & Frameworks. OpenFaaS, Knative & Kubeless
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../finops/" title="FinOps - Cloud Financial Management" class="md-nav__link">
      FinOps - Cloud Financial Management
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../testops/" title="TestOps and Continuous Testing" class="md-nav__link">
      TestOps and Continuous Testing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Project Management Methodology
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Project Management Methodology" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Project Management Methodology
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../project-management-methodology/" title="Project Management Methodology" class="md-nav__link">
      Project Management Methodology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../workfromhome/" title="Work From Home" class="md-nav__link">
      Work From Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../appointment-scheduling/" title="Appointment Scheduling" class="md-nav__link">
      Appointment Scheduling
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Kubernetes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kubernetes/" title="Kubernetes" class="md-nav__link">
      Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../matrix-table/" title="Kubernetes Matrix Table" class="md-nav__link">
      Kubernetes Matrix Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kubernetes-alternatives/" title="Kubernetes alternatives" class="md-nav__link">
      Kubernetes alternatives
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      OpenShift
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="OpenShift" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        OpenShift
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../openshift/" title="OpenShift docs" class="md-nav__link">
      OpenShift docs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Software Delivery Pipeline
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Software Delivery Pipeline" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Software Delivery Pipeline
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cicd/" title="CI/CD - Continuous Integration & Continuous Delivery" class="md-nav__link">
      CI/CD - Continuous Integration & Continuous Delivery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../git/" title="Git & Git Patterns. Trunk Devel, Git Flow & Feature Flags. Merge BOTs" class="md-nav__link">
      Git & Git Patterns. Trunk Devel, Git Flow & Feature Flags. Merge BOTs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins/" title="Jenkins & Cloudbees" class="md-nav__link">
      Jenkins & Cloudbees
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../openshift-pipelines/" title="OpenShift Pipelines with Jenkins, Tekton and more..." class="md-nav__link">
      OpenShift Pipelines with Jenkins, Tekton and more...
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../performance-testing-with-jenkins-and-jmeter/" title="Performance testing with Jenkins and JMeter or Gatling" class="md-nav__link">
      Performance testing with Jenkins and JMeter or Gatling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jenkins-alternatives/" title="Jenkins Alternatives for Continuous Integration" class="md-nav__link">
      Jenkins Alternatives for Continuous Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13-7" type="checkbox" id="nav-13-7">
    
    <label class="md-nav__link" for="nav-13-7">
      Toolchain
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Toolchain" data-md-level="2">
      <label class="md-nav__title" for="nav-13-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Toolchain
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../container-managers/" title="Container Runtimes/Managers & Base Images. Podman, Buildah & Skopeo" class="md-nav__link">
      Container Runtimes/Managers & Base Images. Podman, Buildah & Skopeo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../maven-gradle/" title="Maven & Gradle" class="md-nav__link">
      Maven & Gradle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sonarqube/" title="SonarQube" class="md-nav__link">
      SonarQube
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nexus-jfrog/" title="Nexus & JFrog Artifactory" class="md-nav__link">
      Nexus & JFrog Artifactory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../web-servers/" title="Web Servers - Apache, HAProxy & Nginx" class="md-nav__link">
      Web Servers - Apache, HAProxy & Nginx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../payara/" title="Payara App Server" class="md-nav__link">
      Payara App Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../embedded-servlet-containers/" title="Embedded Servlet Containers in SpringBoot" class="md-nav__link">
      Embedded Servlet Containers in SpringBoot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../selenium-appium-zephyr/" title="Selenium, Appium & Zephyr Jira plugin" class="md-nav__link">
      Selenium, Appium & Zephyr Jira plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../linux/" title="Linux & SSH" class="md-nav__link">
      Linux & SSH
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../yaml-processors/" title="YAML processors" class="md-nav__link">
      YAML processors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Java Memory Management
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Java Memory Management" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Java Memory Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../java-and-java-performance-optimization/" title="Java Memory Management & Java Performance Optimization" class="md-nav__link">
      Java Memory Management & Java Performance Optimization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jvm-parameters-matrix-table/" title="Java Parameters Matrix Table" class="md-nav__link">
      Java Parameters Matrix Table
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching/" title="Caching Solutions" class="md-nav__link">
      Caching Solutions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../monitoring/" title="Monitoring and Performance. Prometheus, Grafana, APMs and more" class="md-nav__link">
      Monitoring and Performance. Prometheus, Grafana, APMs and more
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-17" type="checkbox" id="nav-17">
    
    <label class="md-nav__link" for="nav-17">
      Configuration Management
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Configuration Management" data-md-level="1">
      <label class="md-nav__title" for="nav-17">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Configuration Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ansible/" title="Ansible" class="md-nav__link">
      Ansible
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../liquibase/" title="Liquibase" class="md-nav__link">
      Liquibase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../terraform/" title="Terraform & Packer" class="md-nav__link">
      Terraform & Packer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18" checked>
    
    <label class="md-nav__link" for="nav-18">
      Databases on Kubernetes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Databases on Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-18">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Databases on Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Relational Databases and Database DevOps. CrunchyData Postgres Operator
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Relational Databases and Database DevOps. CrunchyData Postgres Operator" class="md-nav__link md-nav__link--active">
      Relational Databases and Database DevOps. CrunchyData Postgres Operator
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#relational-databases-on-kubernetes-database-devops" class="md-nav__link">
    Relational Databases on Kubernetes. Database DevOps
  </a>
  
    <nav class="md-nav" aria-label="Relational Databases on Kubernetes. Database DevOps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateful-and-stateless-applications" class="md-nav__link">
    Stateful and Stateless Applications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#databases-on-kubernetes" class="md-nav__link">
    Databases on Kubernetes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-devops" class="md-nav__link">
    Database DevOps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubedb-cloud-native-database" class="md-nav__link">
    KubeDB Cloud Native Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cockroach-cloud-native-database" class="md-nav__link">
    Cockroach Cloud Native Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operator-lifecycle-manager-olm" class="md-nav__link">
    Operator Lifecycle Manager (OLM)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spilo-postgresql-operator" class="md-nav__link">
    Spilo PostgreSQL Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchy-data-postgresql-operator" class="md-nav__link">
    Crunchy Data PostgreSQL Operator
  </a>
  
    <nav class="md-nav" aria-label="Crunchy Data PostgreSQL Operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crunchy-data-developer-portal" class="md-nav__link">
    Crunchy Data Developer Portal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchy-data-postgres-operator-in-openshift-4-overview-proof-of-concept" class="md-nav__link">
    Crunchy Data Postgres Operator in OpenShift 4. Overview &amp; Proof of Concept
  </a>
  
    <nav class="md-nav" aria-label="Crunchy Data Postgres Operator in OpenShift 4. Overview &amp; Proof of Concept">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crunchydata-postgres-operator-35" class="md-nav__link">
    Crunchydata Postgres Operator 3.5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchydata-postgres-operator-401" class="md-nav__link">
    Crunchydata Postgres Operator 4.0.1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchydata-postgres-operator-401-community-edition" class="md-nav__link">
    Crunchydata Postgres Operator 4.0.1 Community Edition
  </a>
  
    <nav class="md-nav" aria-label="Crunchydata Postgres Operator 4.0.1 Community Edition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service-accounts" class="md-nav__link">
    Service Accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-assigned-to-service-accounts" class="md-nav__link">
    Roles assigned to Service Accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-context-constraints-scc" class="md-nav__link">
    Security Context Constraints (SCC)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scc-recommendations" class="md-nav__link">
    SCC Recommendations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-scc-to-a-project" class="md-nav__link">
    Add a SCC to a Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow1-without-custom-service-account-and-without-deploymentconfig" class="md-nav__link">
    Workflow1 without custom Service Account and without DeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow2-with-custom-service-account-and-without-deploymentconfig" class="md-nav__link">
    Workflow2 with custom Service Account and without DeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow3-with-custom-service-account-and-deploymentconfig" class="md-nav__link">
    Workflow3 with custom service Account and DeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-setup-port-forward-and-wsl" class="md-nav__link">
    Environment setup. Port Forward and WSL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-deployment-and-operation-with-pgo" class="md-nav__link">
    Cluster Deployment and Operation with pgo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psql-access-from-postgres-operator-pod" class="md-nav__link">
    Psql access from postgres operator POD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-databases-with-psql" class="md-nav__link">
    List Databases with psql
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-from-another-pod-within-the-cluster-with-psql-client" class="md-nav__link">
    Access from another POD within the cluster with psql client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-from-another-pod-within-the-cluster-with-pgadmin4-of-crunchy-containers-community-edition" class="md-nav__link">
    Access from another POD within the cluster with Pgadmin4 of Crunchy containers Community Edition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging-crunchydata-postgres-operator-401-community-edition" class="md-nav__link">
    Debugging Crunchydata Postgres Operator 4.0.1 Community Edition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certified-crunchydata-postgres-operator-olmoperatorhub-manual-setup" class="md-nav__link">
    Certified Crunchydata Postgres Operator (OLM/OperatorHub). Manual Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nosql/" title="NoSQL Databases" class="md-nav__link">
      NoSQL Databases
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../message-queue/" title="Cloud Based Integration & Messaging. Data Processing & Streaming (aka Data Pipeline)" class="md-nav__link">
      Cloud Based Integration & Messaging. Data Processing & Streaming (aka Data Pipeline)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-20" type="checkbox" id="nav-20">
    
    <label class="md-nav__link" for="nav-20">
      Service Mesh
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Service Mesh" data-md-level="1">
      <label class="md-nav__title" for="nav-20">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Service Mesh
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../servicemesh/" title="Service Mesh" class="md-nav__link">
      Service Mesh
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../consul/" title="Consul" class="md-nav__link">
      Consul
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../envoyproxy/" title="Envoy & xDS protocol" class="md-nav__link">
      Envoy & xDS protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../istio/" title="Istio" class="md-nav__link">
      Istio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../linkerd/" title="Linkerd" class="md-nav__link">
      Linkerd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../maesh/" title="Maesh" class="md-nav__link">
      Maesh
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../trafficdirector/" title="Traffic Director" class="md-nav__link">
      Traffic Director
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-21" type="checkbox" id="nav-21">
    
    <label class="md-nav__link" for="nav-21">
      Security and DevSecOps
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Security and DevSecOps" data-md-level="1">
      <label class="md-nav__title" for="nav-21">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Security and DevSecOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../devsecops/" title="DevSecOps. Container Security" class="md-nav__link">
      DevSecOps. Container Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../securityascode/" title="Security Policy as Code" class="md-nav__link">
      Security Policy as Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../storage/" title="Cloud Native Storage" class="md-nav__link">
      Cloud Native Storage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-23" type="checkbox" id="nav-23">
    
    <label class="md-nav__link" for="nav-23">
      APIs
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="APIs" data-md-level="1">
      <label class="md-nav__title" for="nav-23">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="APIs with SOAP, REST and gRPC" class="md-nav__link">
      APIs with SOAP, REST and gRPC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../swagger-code-generator-for-rest-apis/" title="Swagger code generator for REST APIs" class="md-nav__link">
      Swagger code generator for REST APIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../postman/" title="API Test Automation with Postman" class="md-nav__link">
      API Test Automation with Postman
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../developerportals/" title="API Marketplaces. API Management with API Gateways & Developer Portals" class="md-nav__link">
      API Marketplaces. API Management with API Gateways & Developer Portals
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-24" type="checkbox" id="nav-24">
    
    <label class="md-nav__link" for="nav-24">
      Development & Frameworks
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Development & Frameworks" data-md-level="1">
      <label class="md-nav__title" for="nav-24">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Development & Frameworks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../angular/" title="Angular" class="md-nav__link">
      Angular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dom/" title="Document Object Model (DOM)" class="md-nav__link">
      Document Object Model (DOM)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SpringFramework/" title="Java - Spring Framework" class="md-nav__link">
      Java - Spring Framework
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SpringBoot/" title="Java - SpringBoot" class="md-nav__link">
      Java - SpringBoot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SpringCloud/" title="Java - Spring Cloud" class="md-nav__link">
      Java - Spring Cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quarkus/" title="Java - Quarkus" class="md-nav__link">
      Java - Quarkus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javascript/" title="JavaScript - node.js & npm" class="md-nav__link">
      JavaScript - node.js & npm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../python/" title="Python - Django & Flask" class="md-nav__link">
      Python - Django & Flask
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xamarin/" title="Xamarin" class="md-nav__link">
      Xamarin
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-25" type="checkbox" id="nav-25">
    
    <label class="md-nav__link" for="nav-25">
      Dev Environment
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Dev Environment" data-md-level="1">
      <label class="md-nav__title" for="nav-25">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Dev Environment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../visual-studio/" title="Visual Studio Code" class="md-nav__link">
      Visual Studio Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../linux-dev-env/" title="WSL - Linux Dev Environment on Windows" class="md-nav__link">
      WSL - Linux Dev Environment on Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scaffolding/" title="Scaffolding Tools" class="md-nav__link">
      Scaffolding Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ChromeDevTools/" title="ChromeDevTools" class="md-nav__link">
      ChromeDevTools
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-26" type="checkbox" id="nav-26">
    
    <label class="md-nav__link" for="nav-26">
      Public Cloud
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Public Cloud" data-md-level="1">
      <label class="md-nav__title" for="nav-26">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Public Cloud
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../public-cloud-solutions/" title="Public Cloud Solutions" class="md-nav__link">
      Public Cloud Solutions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../edge-computing/" title="Edge Computing" class="md-nav__link">
      Edge Computing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloud-arch-diagrams/" title="Cloud Architecture Diagram Tools" class="md-nav__link">
      Cloud Architecture Diagram Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws/" title="AWS" class="md-nav__link">
      AWS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../GoogleCloudPlatform/" title="Google Cloud Platform" class="md-nav__link">
      Google Cloud Platform
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../azure/" title="Microsoft Azure" class="md-nav__link">
      Microsoft Azure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ibm_cloud/" title="IBM Cloud" class="md-nav__link">
      IBM Cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../oraclecloud/" title="Oracle Cloud" class="md-nav__link">
      Oracle Cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../digitalocean/" title="Digital Ocean" class="md-nav__link">
      Digital Ocean
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloudflare/" title="Cloudflare" class="md-nav__link">
      Cloudflare
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../elearning/" title="E-Learning" class="md-nav__link">
      E-Learning
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../customer/" title="Customer Success Stories" class="md-nav__link">
      Customer Success Stories
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../newsfeeds/" title="Subreddits" class="md-nav__link">
      Subreddits
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../other-awesome-lists/" title="Other Awesome Lists" class="md-nav__link">
      Other Awesome Lists
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#relational-databases-on-kubernetes-database-devops" class="md-nav__link">
    Relational Databases on Kubernetes. Database DevOps
  </a>
  
    <nav class="md-nav" aria-label="Relational Databases on Kubernetes. Database DevOps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateful-and-stateless-applications" class="md-nav__link">
    Stateful and Stateless Applications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#databases-on-kubernetes" class="md-nav__link">
    Databases on Kubernetes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-devops" class="md-nav__link">
    Database DevOps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubedb-cloud-native-database" class="md-nav__link">
    KubeDB Cloud Native Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cockroach-cloud-native-database" class="md-nav__link">
    Cockroach Cloud Native Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operator-lifecycle-manager-olm" class="md-nav__link">
    Operator Lifecycle Manager (OLM)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spilo-postgresql-operator" class="md-nav__link">
    Spilo PostgreSQL Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchy-data-postgresql-operator" class="md-nav__link">
    Crunchy Data PostgreSQL Operator
  </a>
  
    <nav class="md-nav" aria-label="Crunchy Data PostgreSQL Operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crunchy-data-developer-portal" class="md-nav__link">
    Crunchy Data Developer Portal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchy-data-postgres-operator-in-openshift-4-overview-proof-of-concept" class="md-nav__link">
    Crunchy Data Postgres Operator in OpenShift 4. Overview &amp; Proof of Concept
  </a>
  
    <nav class="md-nav" aria-label="Crunchy Data Postgres Operator in OpenShift 4. Overview &amp; Proof of Concept">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crunchydata-postgres-operator-35" class="md-nav__link">
    Crunchydata Postgres Operator 3.5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchydata-postgres-operator-401" class="md-nav__link">
    Crunchydata Postgres Operator 4.0.1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crunchydata-postgres-operator-401-community-edition" class="md-nav__link">
    Crunchydata Postgres Operator 4.0.1 Community Edition
  </a>
  
    <nav class="md-nav" aria-label="Crunchydata Postgres Operator 4.0.1 Community Edition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service-accounts" class="md-nav__link">
    Service Accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles-assigned-to-service-accounts" class="md-nav__link">
    Roles assigned to Service Accounts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-context-constraints-scc" class="md-nav__link">
    Security Context Constraints (SCC)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scc-recommendations" class="md-nav__link">
    SCC Recommendations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-scc-to-a-project" class="md-nav__link">
    Add a SCC to a Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow1-without-custom-service-account-and-without-deploymentconfig" class="md-nav__link">
    Workflow1 without custom Service Account and without DeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow2-with-custom-service-account-and-without-deploymentconfig" class="md-nav__link">
    Workflow2 with custom Service Account and without DeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow3-with-custom-service-account-and-deploymentconfig" class="md-nav__link">
    Workflow3 with custom service Account and DeploymentConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-setup-port-forward-and-wsl" class="md-nav__link">
    Environment setup. Port Forward and WSL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-deployment-and-operation-with-pgo" class="md-nav__link">
    Cluster Deployment and Operation with pgo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#psql-access-from-postgres-operator-pod" class="md-nav__link">
    Psql access from postgres operator POD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-databases-with-psql" class="md-nav__link">
    List Databases with psql
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-from-another-pod-within-the-cluster-with-psql-client" class="md-nav__link">
    Access from another POD within the cluster with psql client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-from-another-pod-within-the-cluster-with-pgadmin4-of-crunchy-containers-community-edition" class="md-nav__link">
    Access from another POD within the cluster with Pgadmin4 of Crunchy containers Community Edition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging-crunchydata-postgres-operator-401-community-edition" class="md-nav__link">
    Debugging Crunchydata Postgres Operator 4.0.1 Community Edition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certified-crunchydata-postgres-operator-olmoperatorhub-manual-setup" class="md-nav__link">
    Certified Crunchydata Postgres Operator (OLM/OperatorHub). Manual Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/redhatspain/redhatspain.github.io/edit/master/docs/databases.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                  <h1>Relational Databases and Database DevOps. CrunchyData Postgres Operator</h1>
                
                <h2 id="relational-databases-on-kubernetes-database-devops">Relational Databases on Kubernetes. Database DevOps<a class="headerlink" href="#relational-databases-on-kubernetes-database-devops" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#stateful-and-stateless-applications">Stateful and Stateless Applications</a></li>
<li><a href="#databases-on-kubernetes">Databases on Kubernetes</a></li>
<li><a href="#database-devops">Database DevOps</a></li>
<li><a href="#kubedb-cloud-native-database">KubeDB Cloud Native Database</a></li>
<li><a href="#cockroach-cloud-native-database">Cockroach Cloud Native Database</a></li>
<li><a href="#operator-lifecycle-manager-olm">Operator Lifecycle Manager (OLM)</a></li>
<li><a href="#spilo-postgresql-operator">Spilo PostgreSQL Operator</a></li>
<li><a href="#crunchy-data-postgresql-operator">Crunchy Data PostgreSQL Operator</a><ul>
<li><a href="#crunchy-data-developer-portal">Crunchy Data Developer Portal</a></li>
<li><a href="#crunchy-data-postgres-operator-in-openshift-4-overview--proof-of-concept">Crunchy Data Postgres Operator in OpenShift 4. Overview &amp; Proof of Concept</a><ul>
<li><a href="#crunchydata-postgres-operator-35">Crunchydata Postgres Operator 3.5</a></li>
<li><a href="#crunchydata-postgres-operator-401">Crunchydata Postgres Operator 4.0.1</a></li>
<li><a href="#crunchydata-postgres-operator-401-community-edition">Crunchydata Postgres Operator 4.0.1 Community Edition</a><ul>
<li><a href="#service-accounts">Service Accounts</a></li>
<li><a href="#roles-assigned-to-service-accounts">Roles assigned to Service Accounts</a></li>
<li><a href="#security-context-constraints-scc">Security Context Constraints (SCC)</a><ul>
<li><a href="#scc-recommendations">SCC Recommendations</a></li>
</ul>
</li>
<li><a href="#add-a-scc-to-a-project">Add a SCC to a Project</a><ul>
<li><a href="#workflow1-without-custom-service-account-and-without-deploymentconfig">Workflow1 without custom Service Account and without DeploymentConfig</a></li>
<li><a href="#workflow2-with-custom-service-account-and-without-deploymentconfig">Workflow2 with custom Service Account and without DeploymentConfig</a></li>
<li><a href="#workflow3-with-custom-service-account-and-deploymentconfig">Workflow3 with custom service Account and DeploymentConfig</a></li>
</ul>
</li>
<li><a href="#environment-setup-port-forward-and-wsl">Environment setup. Port Forward and WSL</a></li>
<li><a href="#cluster-deployment-and-operation-with-pgo">Cluster Deployment and Operation with pgo</a></li>
<li><a href="#psql-access-from-postgres-operator-pod">Psql access from postgres operator POD</a></li>
<li><a href="#list-databases-with-psql">List Databases with psql</a></li>
<li><a href="#access-from-another-pod-within-the-cluster-with-psql-client">Access from another POD within the cluster with psql client</a></li>
<li><a href="#access-from-another-pod-within-the-cluster-with-pgadmin4-of-crunchy-containers-community-edition">Access from another POD within the cluster with Pgadmin4 of Crunchy containers Community Edition</a></li>
<li><a href="#debugging-crunchydata-postgres-operator-401-community-edition">Debugging Crunchydata Postgres Operator 4.0.1 Community Edition</a></li>
</ul>
</li>
<li><a href="#certified-crunchydata-postgres-operator-olmoperatorhub-manual-setup">Certified Crunchydata Postgres Operator (OLM/OperatorHub). Manual Setup</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="stateful-and-stateless-applications">Stateful and Stateless Applications<a class="headerlink" href="#stateful-and-stateless-applications" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.xenonstack.com/insights/stateful-and-stateless-applications/">xenonstack.com: Stateful and Stateless Applications Best Practices and Advantages</a></li>
</ul>
<p><a href="https://www.xenonstack.com/insights/stateful-and-stateless-applications/"><img alt="Statefull and Stateless Aplications" src="../images/stateful-and-stateless-applications.png" /></a></p>
<h3 id="databases-on-kubernetes">Databases on Kubernetes<a class="headerlink" href="#databases-on-kubernetes" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://cloud.google.com/blog/products/databases/to-run-or-not-to-run-a-database-on-kubernetes-what-to-consider">cloud.google.com: To run or not to run a database on Kubernetes - What to consider</a></li>
<li><a href="https://www.reddit.com/r/kubernetes/comments/9d8on5/whats_the_best_proper_way_of_running_a_database/">reddit.com: What&rsquo;s the best, proper way of running a database cluster on top of Kubernetes?</a></li>
<li><a href="https://caylent.com/the-pros-and-cons-of-running-production-databases-as-containers">caylent.com: The Pros and Cons of Running Production Databases as Containers</a></li>
<li><a href="https://learnk8s.io/cloud-resources-kubernetes">learnk8s.io: Provisioning cloud resources (AWS, GCP, Azure) in Kubernetes</a></li>
</ul>
<h3 id="database-devops">Database DevOps<a class="headerlink" href="#database-devops" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.informationweek.com/devops/can-enterprises-benefit-from-adopting-database-devops/a/d-id/1337238">informationweek.com: Can Enterprises Benefit From Adopting Database DevOps?</a></li>
</ul>
<h3 id="kubedb-cloud-native-database">KubeDB Cloud Native Database<a class="headerlink" href="#kubedb-cloud-native-database" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://kubedb.com/">kubedb.com</a> Run production-grade databases easily on Kubernetes</li>
</ul>
<h3 id="cockroach-cloud-native-database">Cockroach Cloud Native Database<a class="headerlink" href="#cockroach-cloud-native-database" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.cockroachlabs.com/docs/stable/orchestration.html">Cockroach</a></li>
</ul>
<h3 id="operator-lifecycle-manager-olm">Operator Lifecycle Manager (OLM)<a class="headerlink" href="#operator-lifecycle-manager-olm" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://itnext.io/wth-is-a-operator-lifecycle-manager-873cf1661b04">itnext.io: Operator Lifecycle Manager</a></li>
</ul>
<h3 id="spilo-postgresql-operator">Spilo PostgreSQL Operator<a class="headerlink" href="#spilo-postgresql-operator" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/zalando/spilo">Spilo: HA PostgreSQL Clusters with Docker</a> Spilo is a Docker image that provides PostgreSQL and Patroni bundled together. Patroni is a template for PostgreSQL HA. </li>
<li><a href="https://github.com/zalando/patroni">Patroni</a></li>
<li><a href="https://disaev.me/p/how-i-have-set-up-ha-postgresql-on-kubernetes/">How I&rsquo;ve Set Up HA PostgreSQL on Kubernetes (powered by Patroni, a template for PostgreSQL HA)</a></li>
</ul>
<h3 id="crunchy-data-postgresql-operator">Crunchy Data PostgreSQL Operator<a class="headerlink" href="#crunchy-data-postgresql-operator" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.crunchydata.com/">crunchydata.com</a></li>
<li><a href="https://learn.crunchydata.com/">learn.crunchydata.com </a></li>
<li><a href="https://github.com/CrunchyData">github.com/CrunchyData</a></li>
<li><a href="https://github.com/CrunchyData/postgres-operator">github.com/CrunchyData/postgres-operator</a></li>
<li><a href="https://access.crunchydata.com/documentation/crunchy-postgres-containers/latest/">Documentation: Crunchy Data Container Suite </a></li>
<li><a href="https://info.crunchydata.com/blog/active-active-on-kubernetes">crunchydata blog: Deploying Active-Active PostgreSQL on Kubernetes</a></li>
<li><a href="https://info.crunchydata.com/blog/crunchy-postgres-kubernetes-operator-4.0">crunchydata blog: What&rsquo;s New in Crunchy PostgreSQL Operator 4.0</a></li>
<li><a href="https://www.slideshare.net/vyruss000/deploying-postgresql-on-kubernetes">slideshare.net: Deploying PostgreSQL on Kubernetes</a></li>
<li><a href="https://www.slideshare.net/jkatz05/operating-postgresql-at-scale-with-kubernetes-137132067">slideshare.net: Operating PostgreSQL at Scale with Kubernetes</a></li>
<li><a href="https://www.youtube.com/watch?v=HX10WWTRiTY">Youtube: Demo of Crunchy Data Postgres Operator v1.0.0 (2017)</a></li>
<li><a href="https://www.youtube.com/watch?v=gaXlrlz7GVc">Youtube: Crunchy PostgreSQL Operator for Kubernetes 3.4 Overview (2018)</a></li>
<li><a href="https://www.youtube.com/watch?v=X4vuktlK0Tg">Youtube: OpenShift Meetup Tokyo #05 - Operator and Operator Lifecycle Manager on OpenShift (2019, openshift 4.1)</a></li>
<li><a href="https://info.crunchydata.com/blog/monitoring-postgresql-clusters-in-kubernetes">info.crunchydata.com: Monitoring PostgreSQL clusters in kubernetes</a></li>
<li><a href="https://thenewstack.io/advanced-kubernetes-namespace-management-with-the-postgresql-operator/">thenewstack.io: Advanced Kubernetes Namespace Management with the PostgreSQL Operator</a></li>
<li><a href="https://info.crunchydata.com/blog/deploy-high-availability-postgresql-on-kubernetes">info.crunchydata.com: Deploy High-Availability PostgreSQL Clusters on Kubernetes by Example</a></li>
<li><a href="https://info.crunchydata.com/blog/migrating-from-oracle-to-postgresql-questions-and-considerations">info.crunchydata.com: Migrating from Oracle to PostgreSQL: Tips and Tricks</a></li>
<li><a href="https://info.crunchydata.com/blog/schedule-postgresql-backups-and-retention-with-kubernetes">info.crunchydata.com: Scheduled PostgreSQL Backups and Retention Policies with Kubernetes</a></li>
<li><a href="https://info.crunchydata.com/blog/synchronous-replication-in-the-postgresql-operator-for-kubernetes-guarding-against-transactions-loss">info.crunchydata.com: Guard Against Transaction Loss with PostgreSQL Synchronous Replication</a></li>
<li><a href="https://info.crunchydata.com/news/crunchy-postgresql-for-kuberenetes-4.3">info.crunchydata.com: Crunchy PostgreSQL for Kubernetes 4.3 Released</a> Crunchy #PostgreSQL for #Kubernetes 4.3 released! Now supports multi-Kubernetes deployments, easier customization + installation, TLS, pgAdmin 4, improved pgBouncer support, and much more!</li>
<li><a href="https://info.crunchydata.com/blog/deploy-pgadmin4-with-postgresql-on-kubernetes">info.crunchydata.com: Deploy pgAdmin4 with PostgreSQL on Kubernetes</a></li>
<li><a href="https://info.crunchydata.com/blog/multi-kubernetes-cluster-postgresql-deployments">info.crunchydata.com: Multi-Kubernetes Cluster PostgreSQL Deployments</a></li>
<li><a href="https://info.crunchydata.com/blog/d-meta">info.crunchydata.com: Quickly Document Your Postgres Database Using psql Meta-Commands</a></li>
<li><a href="https://info.crunchydata.com/blog/fast-csv-and-json-ingestion-in-postgresql-with-copy">info.crunchydata.com: Fast CSV and JSON Ingestion in PostgreSQL with COPY</a></li>
</ul>
<h4 id="crunchy-data-developer-portal">Crunchy Data Developer Portal<a class="headerlink" href="#crunchy-data-developer-portal" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://info.crunchydata.com/blog/announcing-the-crunchy-data-developer-portal">Announcing the Crunchy Data Developer Portal</a></li>
<li><a href="https://www.crunchydata.com/developers">Crunchy Data Developer Portal</a> Self-service tools for developers and data scientists to easily get productive with PostgreSQL and Crunchy Data products.</li>
</ul>
<h4 id="crunchy-data-postgres-operator-in-openshift-4-overview-proof-of-concept">Crunchy Data Postgres Operator in OpenShift 4. Overview &amp; Proof of Concept<a class="headerlink" href="#crunchy-data-postgres-operator-in-openshift-4-overview-proof-of-concept" title="Permanent link">&para;</a></h4>
<ul>
<li>In earlier days, Red Hat recommended running PostgreSQL database outside the Kubernetes cluster. Now, with<a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">Kubernetes Operator</a>technology, you can run stateful database applications on Kubernetes.</li>
<li><a href="https://github.com/CrunchyData/postgres-operator">Crunchy PostgreSQL Operator</a>extends Kubernetes to give you the power to easily create, configure and manage PostgreSQL clusters at scale. When combined with the<a href="https://github.com/CrunchyData/crunchy-containers">Crunchy PostgreSQL Container Suite</a>, the Crunchy PostgreSQL Operator provides an open source software solution for PostgreSQL scaling, high-availability, disaster recovery, monitoring, and more. All of this capability comes with the repeatability and automation that comes from Operators on Kubernetes.</li>
<li>Crunchy PostgreSQL Operator is open source and developed in close collaboration with users to support enterprise deployments of cloud agnostic PostgreSQL-as-a-Service capability.This release comes after extensive feedback from our customers and the community to ensure the scalability and security that sysadmins, DBAs, and developers have come to rely on.</li>
<li><a href="https://www.openshift.com/blog/leveraging-the-crunchy-postgresql">Crunchy PostgreSQL and Openshift</a></li>
<li>Crunchy Postgres Solutions: <ol>
<li><strong><a href="https://github.com/CrunchyData/postgres-operator">Postgres Operator Community Edition</a>:</strong><ul>
<li>pgo CLI tool</li>
<li>Not certified by Red Hat</li>
<li>The Operator can be deployed by multiple methods including:<ul>
<li><a href="https://access.crunchydata.com/documentation/postgres-operator/4.3.0/installation/postgres-operator/">The PostgreSQL Operator Installer with kubectl</a></li>
<li><a href="https://access.crunchydata.com/documentation/postgres-operator/4.3.0/installation/other/bash/">Install Operator Using Bash (the one used in this overview)</a></li>
<li><a href="https://access.crunchydata.com/documentation/postgres-operator/4.3.0/installation/other/ansible/">Ansible playbook installation</a></li>
<li>CLI installation using OLM <strong>(Deprecated)</strong>: new CatalogSource added via pgo.catalogsource.yaml.</li>
<li>Openshift Console installation using OLM (OperatorHub):<ul>
<li>New CatalogSource requirement. </li>
<li>CLI settings required.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Certified Crunchydata Postgres Operator (OLM/OperatorHub):</strong><ul>
<li>Openshift Console installation using OLM (OperatorHub): One-click deployment and Web based operation</li>
<li><strong>No pgo CLI tool?</strong> (compatibility issues: unable to find in github the version that matches the server API - Sept 2019)</li>
<li>Certified by Red Hat</li>
<li>Provided by CrunchyData</li>
</ul>
</li>
<li>Other non-certified installations (unsupported by Red Hat): with or without OLM, CLI, etc.</li>
</ol>
</li>
<li><strong><a href="https://github.com/CrunchyData/crunchy-containers">Crunchy Containers Community Edition</a>:</strong><ul>
<li>Installation:<ol>
<li><a href="https://access.crunchydata.com/documentation/crunchy-postgres-containers/latest/installation-guide/installation-guide/">Installation guide</a></li>
<li><a href="https://access.crunchydata.com/documentation/crunchy-postgres-containers/latest/examples/administration/pgadmin4/">Pgadmin4 install</a> (easy)</li>
</ol>
</li>
<li>Not certified by Red Hat</li>
</ul>
</li>
</ul>
<p><center>
<img alt="crunchdydata in operatorhub" src="../images/crunchydata_operator_hub.png" />
</center></p>
<h5 id="crunchydata-postgres-operator-35">Crunchydata Postgres Operator 3.5<a class="headerlink" href="#crunchydata-postgres-operator-35" title="Permanent link">&para;</a></h5>
<ul>
<li>Release date: Januay 2019</li>
<li>pgBackRestArchitecture Enhancements</li>
<li>pgBackRest Point-In-Time-Recovery</li>
<li>Fast Failover</li>
<li>ArchiveStorage Configuration</li>
<li>Preferred Failover Node Label</li>
<li>pgo-scheduler</li>
</ul>
<p><img alt="crunchydata operator 3.5" src="../images/crunchydata_operator_3_5.png" /></p>
<h5 id="crunchydata-postgres-operator-401">Crunchydata Postgres Operator 4.0.1<a class="headerlink" href="#crunchydata-postgres-operator-401" title="Permanent link">&para;</a></h5>
<ul>
<li>Release date: June 2019</li>
<li><strong>Namespace Deployment Options:</strong> Ability to deploy the operator its own namespace but manage PostgreSQL clusters in multiple namespace. The new namespace management features lets users create multi-tenant PostgreSQL environments that add further isolation and security to their deployments. </li>
<li><strong>FurtherEnhancements to pgBackRest Integration:</strong> Perform pgBackRest backups to <strong>Amazon S3</strong>. This allows users to create an automated, geographically distributed, and hybrid cloud disaster recovery strategy.</li>
<li>Integrated PostgreSQL <strong>Benchmarking</strong></li>
<li><strong>Ansible</strong> Playbook Based Installation</li>
<li><strong>Operator Lifecycle Management (OLM):</strong> The OLM project is a component of the Operator Framework, an open source toolkit to manage Operators, in an effective, automated, and scalable way. OLM concepts were included into Crunchy PostgreSQL Operator to assist in the deployment on Kubernetes using OLM integration.</li>
</ul>
<p><img alt="crunchdydata operator 4.0.1" src="../images/crunchydata_operator_4_0_1.png" /></p>
<h5 id="crunchydata-postgres-operator-401-community-edition">Crunchydata Postgres Operator 4.0.1 Community Edition<a class="headerlink" href="#crunchydata-postgres-operator-401-community-edition" title="Permanent link">&para;</a></h5>
<h6 id="service-accounts">Service Accounts<a class="headerlink" href="#service-accounts" title="Permanent link">&para;</a></h6>
<ul>
<li>Service accounts give us flexibility to control access to API without sharing users credentials. </li>
<li>Service Accounts are also used by pods and other non-human actors to perform various actions and are a central vehicle by which their access to resources is managed. <strong>By default, three service accounts are created in each project:</strong><ol>
<li><strong>Builder:</strong> Used by build pods and assigned the <strong>system:image-builder</strong> role, which grants push capability into the internal registry to any image stream in the project.</li>
<li><strong>Deployer:</strong> Used by deploy pods and assigned the <strong>system:deployer role</strong>, which allows modifying replication controllers in the project.</li>
<li><strong>Default:</strong> Used by all other pods by default.</li>
</ol>
</li>
<li>You can see them by running the following command: </li>
</ul>
<pre><code>oc get serviceaccounts
oc get sa
</code></pre>

<ul>
<li><strong>Running a Pod with a Different Service Account.</strong> You can run a pod with a service account other than the default:<ul>
<li>Edit the deployment configuration:  <code>$ oc edit dc/&lt;deployment_config&gt;</code></li>
<li>Add the serviceAccount and serviceAccountName parameters to the spec field, and specify the service account you want to use:</li>
</ul>
</li>
</ul>
<pre><code>spec:
    securityContext: {}
    serviceAccount: &lt;service_account&gt;
    serviceAccountName: &lt;service_account&gt;
</code></pre>

<ul>
<li>
<p>Refs:</p>
<ul>
<li><a href="https://docs.openshift.com/container-platform/4.1/authentication/using-service-accounts-in-applications.html">ref1</a></li>
<li><a href="https://docs.okd.io/latest/dev_guide/deployments/basic_deployment_operations.html#run-pod-with-different-service-account">ref2</a> </li>
<li><a href="https://dzone.com/articles/understanding-openshift-security-context-constrain">ref3</a> </li>
</ul>
</li>
<li>
<p>Each service account is represented by the ServiceAccount resource and is associated with two additional secrets for access to the OpenShift API and the internal registry:</p>
</li>
</ul>
<pre><code>$ oc describe serviceaccounts/default
Name:                default
Namespace:           pgouser1
Labels:              &lt;none&gt;
Annotations:         &lt;none&gt;
Image pull secrets:  default-dockercfg-nrhwt
Mountable secrets:   default-token-vm8b5
                     default-dockercfg-nrhwt
Tokens:              default-token-p6rhz
                     default-token-vm8b5
Events:              &lt;none&gt;

</code></pre>

<ul>
<li>The service account can be created and deleted with a simple command: <ul>
<li><code>oc create sa myserviceaccount</code></li>
<li><code>oc delete sa/myserviceaccount</code>  </li>
</ul>
</li>
<li>Every service account is also a member of two groups:<ul>
<li><strong>system:serviceaccounts</strong>, which includes all service accounts in the cluster</li>
<li><strong>system:serviceaccounts:&lt;project></strong>, which includes all service accounts in the project</li>
</ul>
</li>
</ul>
<h6 id="roles-assigned-to-service-accounts">Roles assigned to Service Accounts<a class="headerlink" href="#roles-assigned-to-service-accounts" title="Permanent link">&para;</a></h6>
<ul>
<li>When you create a pod, if you do not specify a service account, it is automatically assigned the <strong>default service account</strong> in the same namespace. If you get the raw json or yaml for a pod you have created (e.g. <code>oc get pods/podname -o yaml</code>), you can see the <strong>spec.serviceAccountName</strong> field has been automatically set.</li>
<li>You can grant privileges to groups of service accounts, which will effectively grant those privileges to all accounts in the group:</li>
</ul>
<pre><code>$ oc adm policy add-role-to-group view system:serviceaccounts -n myproject
role &quot;view&quot; added: &quot;system:serviceaccounts&quot; 
</code></pre>

<ul>
<li>For example, to grant view privileges to all service accounts in the cluster in the project myproject:</li>
</ul>
<pre><code>$ oc adm policy remove-role-from-group view system:serviceaccounts n myproject
role &quot;view&quot; removed: &quot;system:serviceaccounts&quot; 
</code></pre>

<h6 id="security-context-constraints-scc">Security Context Constraints (SCC)<a class="headerlink" href="#security-context-constraints-scc" title="Permanent link">&para;</a></h6>
<ul>
<li><strong>Security Context Constraints (SCCs)</strong> control what actions pods can perform and what resources they can access. </li>
<li>SCCs combine a set of security configurations into a single policy object that can be applied to pods. </li>
<li>These security configurations include, but are not limited to, Linux Capabilities, Seccomp Profiles, User and Group ID Ranges, and types of mounts. </li>
<li>OpenShift ships with several SCCs:<ul>
<li>The most constrained is the <strong>restricted SCC</strong>, and the least constrained is the <strong>privileged SCC</strong>:<ul>
<li><code>oc edit scc restricted</code></li>
<li><code>oc edit scc privileged</code> </li>
</ul>
</li>
<li>The other SCCs provide intermediate levels of constraint for various use cases. </li>
<li><strong>The restricted SCC is granted to all authenticated users by default.</strong></li>
<li><strong>The default SCC for most pods should be the restricted SCC.</strong></li>
</ul>
</li>
<li>If required, a cluster administrator may <strong>allow certain pods to run with different SCCs</strong>. Pods should be run with the most restrictive SCC possible. <strong>Pods inherit their SCC from the Service Account used to run the pod</strong>. With the default project template, new projects get a <strong>Service Account named default</strong> that is used to run pods. This default service account is only granted the ability to run the restricted SCC.</li>
</ul>
<table>
<thead>
<tr>
<th align="center"><img alt="crunchdydata scc1" src="../images/crunchydata_scc1.png" /></th>
<th align="center"><img alt="crunchdydata scc2" src="../images/crunchydata_scc2.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h6 id="scc-recommendations">SCC Recommendations<a class="headerlink" href="#scc-recommendations" title="Permanent link">&para;</a></h6>
<ul>
<li>Use OpenShift&rsquo;s Security Context Constraint feature, which has been contributed to Kubernetes as <a href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/">Pod Security Policies (PSP)</a>. PSPs are still beta in Kubernetes 1.10, 1.11, 1.12, 1.13, 1.14, 1.15 .</li>
<li><strong>Use the restricted SCC as the default</strong> </li>
<li>For pods that require additional access, use the SCC that grants the least amount of additional privileges or create a custom SCC </li>
<li>Remediation: Apply the SCC with the least privilege required</li>
<li>Audit: <ul>
<li>To show all available SCCs: <code>oc describe scc</code> </li>
<li>To audit a single pod:  </li>
</ul>
</li>
</ul>
<pre><code>oc describe pod &lt;POD&gt; | grep openshift.io\/scc
openshift.io/scc: restricted             
</code></pre>

<p><img alt="crunchdydata scc3" src="../images/crunchydata_scc3.png" /></p>
<ul>
<li>
<p><strong>Problem:</strong> Default SCC is restricted SCC -&gt; Crunchydata Postgres Cluster PODs are not rolled out</p>
<ul>
<li><code>oc get rs</code>: </li>
</ul>
<p><img alt="crunchdydata restricted scc" src="../images/crunchydata_restricted_scc.png" /></p>
<ul>
<li><code>oc describe rs mycluster5-lgyb-84b58f5dd9</code>: Warning <strong>FailedCreate</strong> 3m24s (x17 over 7m30s) <strong>replicaset-controller Error creating: pods &ldquo;mycluster5-lgyb-84b58f5dd9-&rdquo; is forbidden: unable to validate against any security context constraint: [fsGroup: Invalid value: []int64{26}: 26 is not an allowed group]</strong></li>
</ul>
</li>
</ul>
<h6 id="add-a-scc-to-a-project">Add a SCC to a Project<a class="headerlink" href="#add-a-scc-to-a-project" title="Permanent link">&para;</a></h6>
<ul>
<li>SCCs are not granted directly to a project. Instead, you add a service account to an SCC and either specify the service account name on your pod or, when unspecified, run as the <strong>default</strong> service account.</li>
<li><strong>To add a SCC to a user:</strong>  <code>oc adm policy add-scc-to-group &lt;scc_name&gt; &lt;group_name&gt;</code></li>
<li><strong>To add a SCC to all service accounts in a namespace:</strong><br />
<code>oc adm policy add-scc-to-group &lt;scc_name&gt;  system:serviceaccounts:&lt;serviceaccount_namespace&gt;</code></li>
<li>If you are currently in the project to which the service account belongs, you can use the -z flag and just specify the <strong>serviceaccount_name</strong>:<br />
<code>oc adm policy add-scc-to-user &lt;scc_name&gt; -z &lt;serviceaccount_name&gt;</code></li>
<li>
<p>Examples:</p>
<ul>
<li><code>oc describe scc anyuid</code></li>
<li><code>oc adm policy add-scc-to-group anyuid system:serviceaccounts:pgouser1</code></li>
<li>
<p>default serviceAccount: </p>
<p><code>oc adm policy add-scc-to-user anyuid system:serviceaccounts:pgouser1:default</code> </p>
</li>
<li>
<p>User registered in Identity Provider: </p>
<p><code>oc adm policy add-scc-to-user anyuid myuser</code>    </p>
</li>
<li>
<p>Custom serviceAccount: </p>
<p><code>oc adm policy add-scc-to-user anyuid system:serviceaccounts:pgouser1:my-sa</code>    </p>
</li>
</ul>
</li>
<li>
<p>Refs:</p>
<ul>
<li><a href="https://docs.openshift.com/container-platform/3.6/admin_guide/manage_scc.html">ref1</a></li>
<li><a href="https://docs.openshift.com/container-platform/3.6/admin_guide/manage_scc.html#add-scc-to-user-group-project">ref2</a></li>
<li><a href="https://dzone.com/articles/understanding-openshift-security-context-constrain">ref3 </a></li>
</ul>
</li>
</ul>
<h6 id="workflow1-without-custom-service-account-and-without-deploymentconfig">Workflow1 without custom Service Account and without DeploymentConfig<a class="headerlink" href="#workflow1-without-custom-service-account-and-without-deploymentconfig" title="Permanent link">&para;</a></h6>
<p><img alt="crunchdydata scc workflow1" src="../images/crunchydata_scc_workflow1.png" /></p>
<h6 id="workflow2-with-custom-service-account-and-without-deploymentconfig">Workflow2 with custom Service Account and without DeploymentConfig<a class="headerlink" href="#workflow2-with-custom-service-account-and-without-deploymentconfig" title="Permanent link">&para;</a></h6>
<p><img alt="crunchdydata scc workflow2" src="../images/crunchydata_scc_workflow2.png" /></p>
<ul>
<li>Create a custom ServiceAccount and add a role to it within a Project:<ol>
<li><code>oc project pgouser1</code></li>
<li><code>oc get scc</code></li>
<li><code>oc create serviceaccount my-sa n pgouser1</code></li>
<li><code>oc describe sa my-sa</code></li>
<li><code>oc get scc</code></li>
<li><code>oc adm policy add-scc-to-user anyuid system:serviceaccount:pgouser1:my-sa</code></li>
<li><code>oc policy add-role-to-user edit system:serviceaccount:pgouser1:my-sa</code></li>
<li>Alternative to step #6:</li>
</ol>
</li>
</ul>
<pre><code>oc edit scc anyuid 
</code></pre>

<pre><code>users:
- system:serviceaccount:pgouser1:my-sa
</code></pre>

<ul>
<li>
<p>Other commands of interest:</p>
<ul>
<li><code>oc get role</code></li>
<li><code>oc describe role pgo-role</code></li>
<li><code>oc edit role pgo-role</code> </li>
</ul>
</li>
<li>
<p>References:</p>
<ul>
<li><a href="https://blog.openshift.com/understanding-service-accounts-sccs/">ref1</a></li>
<li><a href="https://docs.openshift.com/container-platform/4.1/authentication/understanding-and-creating-service-accounts.html">ref2</a></li>
<li><a href="https://docs.openshift.com/container-platform/4.1/authentication/managing-security-context-constraints.html#role-based-access-to-ssc_configuring-internal-oauth">ref3</a></li>
</ul>
</li>
</ul>
<h6 id="workflow3-with-custom-service-account-and-deploymentconfig">Workflow3 with custom service Account and DeploymentConfig<a class="headerlink" href="#workflow3-with-custom-service-account-and-deploymentconfig" title="Permanent link">&para;</a></h6>
<p><img alt="crunchdydata scc workflow3" src="../images/crunchydata_scc_workflow3.png" /></p>
<h6 id="environment-setup-port-forward-and-wsl">Environment setup. Port Forward and WSL<a class="headerlink" href="#environment-setup-port-forward-and-wsl" title="Permanent link">&para;</a></h6>
<ul>
<li>Deployment method used in this presentation: <a href="https://access.crunchydata.com/documentation/postgres-operator/4.3.0/installation/other/bash/">Install Operator Using Bash</a></li>
<li>Config files setup by installer are saved in:<ul>
<li>pgo Project -&gt; Deployments</li>
<li>pgo Project -&gt; Deployment Configs (empty, openshift feature not provided by CrunchyData)</li>
<li>pgo Project -&gt; Secrets</li>
<li>pgo Project -&gt; Config Maps</li>
</ul>
</li>
<li>References:<ul>
<li><a href="https://access.crunchydata.com/documentation/postgres-operator/latest/operatorcli/pgo-overview/">ref1</a></li>
<li><a href="https://crunchydata.github.io/postgres-operator/latest/operatorcli/common-pgo-cli-operations/">ref2</a></li>
</ul>
</li>
<li>WSL (Windows Subystem for Linux): <strong>alog/olog/clog</strong> functions must be adapted to be run in WSL&rsquo;s Ubuntu:</li>
</ul>
<pre><code>vim $HOME/.bashrc
</code></pre>

<pre><code># ~/.bashrc: executed by bash(1) for non-login shells.
# see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)
# for examples
# If not running interactively, don't do anything
case $- in
    *i*) ;;
    *) return;;
esac
# don't put duplicate lines or lines starting with space in the history.
# See bash(1) for more options
HISTCONTROL=ignoreboth
# append to the history file, don't overwrite it
shopt -s histappend
# for setting history length see HISTSIZE and HISTFILESIZE in bash(1)
HISTSIZE=1000
HISTFILESIZE=2000
# check the window size after each command and, if necessary,
# update the values of LINES and COLUMNS.
shopt -s checkwinsize
# If set, the pattern &quot;**&quot; used in a pathname expansion context will
# match all files and zero or more directories and subdirectories.
#shopt -s globstar
# make less more friendly for non-text input files, see lesspipe(1)
[ -x /usr/bin/lesspipe ] &amp;&amp; eval &quot;$(SHELL=/bin/sh lesspipe)&quot;
# set variable identifying the chroot you work in (used in the prompt below)
if [ -z &quot;${debian_chroot:-}&quot; ] &amp;&amp; [ -r /etc/debian_chroot ]; then
    debian_chroot=$(cat /etc/debian_chroot)
fi
# set a fancy prompt (non-color, unless we know we &quot;want&quot; color)
case &quot;$TERM&quot; in
    xterm-color|*-256color) color_prompt=yes;;
esac
# uncomment for a colored prompt, if the terminal has the capability; turned
# off by default to not distract the user: the focus in a terminal window
# should be on the output of commands, not on the prompt
#force_color_prompt=yes
if [ -n &quot;$force_color_prompt&quot; ]; then
    if [ -x /usr/bin/tput ] &amp;&amp; tput setaf 1 &gt;&amp;/dev/null; then
    # We have color support; assume it's compliant with Ecma-48
    # (ISO/IEC-6429). (Lack of such support is extremely rare, and such
    # a case would tend to support setf rather than setaf.)
    color_prompt=yes
    else
    color_prompt=
    fi
fi
if [ &quot;$color_prompt&quot; = yes ]; then
    PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
else
    PS1='${debian_chroot:+($debian_chroot)}\u@\h:\w\$ '
fi
unset color_prompt force_color_prompt
# If this is an xterm set the title to user@host:dir
case &quot;$TERM&quot; in
xterm*|rxvt*)
    PS1=&quot;\[\e]0;${debian_chroot:+($debian_chroot)}\u@\h: \w\a\]$PS1&quot;
    ;;
*)
    ;;
esac
# enable color support of ls and also add handy aliases
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors &amp;&amp; eval &quot;$(dircolors -b ~/.dircolors)&quot; || eval &quot;$(dircolors -b)&quot;
    alias ls='ls --color=auto'
    #alias dir='dir --color=auto'
    #alias vdir='vdir --color=auto'
    alias grep='grep --color=auto'
    alias fgrep='fgrep --color=auto'
    alias egrep='egrep --color=auto'
fi
# colored GCC warnings and errors
#export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'
# some more ls aliases
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
# Add an &quot;alert&quot; alias for long running commands.  Use like so:
#   sleep 10; alert
alias alert='notify-send --urgency=low -i &quot;$([ $? = 0 ] &amp;&amp; echo terminal || echo error)&quot; &quot;$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&amp;|]\s*alert$//'\'')&quot;'
# Alias definitions.
# You may want to put all your additions into a separate file like
# ~/.bash_aliases, instead of adding them here directly.
# See /usr/share/doc/bash-doc/examples in the bash-doc package.
if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
fi
# enable programmable completion features (you don't need to enable
# this, if it's already enabled in /etc/bash.bashrc and /etc/profile
# sources /etc/bash.bashrc).
if ! shopt -oq posix; then
if [ -f /usr/share/bash-completion/bash_completion ]; then
    . /usr/share/bash-completion/bash_completion
elif [ -f /etc/bash_completion ]; then
    . /etc/bash_completion
fi
fi
#########################################
# CRUNCHYDATA POSTGRES OPERATOR SETTINGS:
#########################################
# operator env vars
export PATH=$PATH:$HOME/odev/bin
export PGO_APISERVER_URL=https://127.0.0.1:18443
#export PGO_APISERVER_URL=https://172.25.212.138:8443
export PGO_CA_CERT=$HOME/odev/src/github.com/crunchydata/postgres-operator/conf/postgres-operator/server.crt
export PGO_CLIENT_CERT=$HOME/odev/src/github.com/crunchydata/postgres-operator/conf/postgres-operator/server.crt
export PGO_CLIENT_KEY=$HOME/odev/src/github.com/crunchydata/postgres-operator/conf/postgres-operator/server.key
#alias setip='export PGO_APISERVER_URL=https://`kubectl get service postgres-operator -o=jsonpath=&quot;{.spec.clusterIP}&quot;`:18443'
#alias alog='kubectl logs `kubectl get pod --selector=name=postgres-operator -o jsonpath=&quot;{.items[0].metadata.name}&quot;` -c apiserver'
#alias olog='kubectl logs `kubectl get pod --selector=name=postgres-operator -o jsonpath=&quot;{.items[0].metadata.name}&quot;` -c operator'
#
export CCP_IMAGE_TAG=rhel7-11.1-2.3.0
export CCP_IMAGE_PREFIX=registry.connect.redhat.com/crunchydata
export PGO_CMD=oc
export PGO_BASEOS=rhel7
export PGO_VERSION=4.0.1
export PGO_NAMESPACE=pgo
export PGO_IMAGE_TAG=rhel7-4.0.1
export PGO_IMAGE_PREFIX=registry.connect.redhat.com/crunchydata
export GOPATH=$HOME/odev
export GOBIN=$GOPATH/bin
export PATH=$PATH:$GOBIN
# NAMESPACE is the list of namespaces the Operator will watch
export NAMESPACE=pgouser1,pgouser2
# PGO_OPERATOR_NAMESPACE is the namespace the Operator is deployed into
export PGO_OPERATOR_NAMESPACE=pgo
# PGO_CMD values are either kubectl or oc, use oc if Openshift
export PGO_CMD=kubectl
# the directory location of the Operator scripts
export PGOROOT=$GOPATH/src/github.com/crunchydata/postgres-operator
# the version of the Operator you run is set by these vars
export PGO_IMAGE_PREFIX=crunchydata
export PGO_BASEOS=centos7
export PGO_VERSION=4.0.1
export PGO_IMAGE_TAG=$PGO_BASEOS-$PGO_VERSION
# for the pgo CLI to authenticate with using TLS
export PGO_CA_CERT=$PGOROOT/conf/postgres-operator/server.crt
export PGO_CLIENT_CERT=$PGOROOT/conf/postgres-operator/server.crt
export PGO_CLIENT_KEY=$PGOROOT/conf/postgres-operator/server.key
# common bash functions for working with the Operator
function setip() { 
export PGO_APISERVER_URL=https://`$PGO_CMD -n &quot;$PGO_OPERATOR_NAMESPACE&quot; get service postgres-operator -o=jsonpath=&quot;{.spec.clusterIP}&quot;`:18443 
export CO_APISERVER_URL=https://`$PGO_CMD -n &quot;$PGO_OPERATOR_NAMESPACE&quot; get service postgres-operator -o=jsonpath=&quot;{.spec.clusterIP}&quot;`:18443 
}
function alog() {
$PGO_CMD  -n &quot;$PGO_OPERATOR_NAMESPACE&quot; logs `$PGO_CMD  -n &quot;$PGO_OPERATOR_NAMESPACE&quot; get pod --selector=name=postgres-operator -o jsonpath=&quot;{.items[0].metadata.name}&quot;` -c apiserver
}
function olog () {
$PGO_CMD  -n &quot;$PGO_OPERATOR_NAMESPACE&quot; logs `$PGO_CMD  -n &quot;$PGO_OPERATOR_NAMESPACE&quot; get pod --selector=name=postgres-operator -o jsonpath=&quot;{.items[0].metadata.name}&quot;` -c operator
}
function slog () {
$PGO_CMD  -n &quot;$PGO_OPERATOR_NAMESPACE&quot; logs `$PGO_CMD  -n &quot;$PGO_OPERATOR_NAMESPACE&quot; get pod --selector=name=postgres-operator -o jsonpath=&quot;{.items[0].metadata.name}&quot;` -c scheduler
}
#export DOCKER_HOST=tcp://localhost:2375
# crunchy containers: https://github.com/CrunchyData/crunchy-containers/tree/2.4.1
export GOPATH=$HOME/cdev        # set path to your new Go workspace
export GOBIN=$GOPATH/bin        # set bin path 
export PATH=$PATH:$GOBIN        # add Go bin path to your overall path
export CCP_BASEOS=centos7       # centos7 for Centos, rhel7 for Redhat
export CCP_PGVERSION=10         # The PostgreSQL major version
export CCP_PG_FULLVERSION=10.9
export CCP_VERSION=2.4.1
export CCP_IMAGE_PREFIX=crunchydata # Prefix to put before all the container image names
export CCP_IMAGE_TAG=$CCP_BASEOS-$CCP_PG_FULLVERSION-$CCP_VERSION   # Used to tag the images
export CCPROOT=$GOPATH/src/github.com/crunchydata/crunchy-containers    # The base of the clone github repo
export CCP_SECURITY_CONTEXT=&quot;&quot;
export CCP_CLI=oc          # kubectl for K8s, oc for OpenShift
export CCP_NAMESPACE=crunchy-containers       # Change this to whatever namespace/openshift project name you want to use
export CCP_SECURITY_CONTEXT='&quot;fsGroup&quot;:26'
export CCP_STORAGE_CLASS=gp2
export CCP_STORAGE_MODE=ReadWriteOnce
export CCP_STORAGE_CAPACITY=400M
</code></pre>

<ul>
<li><strong>port-forward</strong> to reach postgres-operator POD with pgo tool (18443 port defined in previous .bashrc): </li>
</ul>
<pre><code>oc project pgo
oc get pod 
oc port-forward postgres-operator-844d8f9777-8d5k5 -n pgo 18443:8443
</code></pre>

<h6 id="cluster-deployment-and-operation-with-pgo">Cluster Deployment and Operation with pgo<a class="headerlink" href="#cluster-deployment-and-operation-with-pgo" title="Permanent link">&para;</a></h6>
<pre><code>pgo create cluster mycluster --pgpool -n pgouser1 --resources-config=small --replica-count=1
pgo show cluster --all -n pgouser1
pgo backup mycluster --backup-type=pgbackrest n pgouser1
pgo failover mycluster --query n pgouser1
pgo failover mycluster --target=mycluster-olvhy n pgouser1
pgo test mycluster -n pgouser1
pgo create cluster somefastpg -n pgouser1 --node-label=speed=fast
pgo create cluster abouncer --pgbouncer  (sidecar pgbouncer added to this PG cluster)
pgo create cluster apgpool --pgpool 
pgo status cluster mycluster n pgouser1
pgo ls mycluster n pgouser1
pgo reload mycluster n pgouser1
pgo scale mycluster n pgouser1
</code></pre>

<p>PGO USER allows you to manage users and passwords across a set of clusters:</p>
<pre><code>pgo user -selector=name=mycluster --expired=300 -update-password n pgouser1
pgo user -change-password=bob n pgouser1 --selector=name=mycluster --password=newpass
</code></pre>

<h6 id="psql-access-from-postgres-operator-pod">Psql access from postgres operator POD<a class="headerlink" href="#psql-access-from-postgres-operator-pod" title="Permanent link">&para;</a></h6>
<pre><code>oc project pgo
oc get pods
oc rsh postgres-operator-844d8f9777-ppjv9
export PGPASSWORD=password
psql -h mycluster-pgpool.pgouser1 -U testuser -l
psql -h mycluster-pgpool.pgouser1 -U postgres -c &quot;CREATE DATABASE testdb&quot;
psql -h mycluster-pgpool.pgouser1 -U postgres testdb -c &quot;CREATE TABLE test (ID CHAR(4) NOT NULL, name TEXT NOT NULL, PRIMARY KEY (id))&quot;
psql -h mycluster-pgpool.pgouser1 -U postgres testdb -c &quot;INSERT INTO test (id,name) VALUES (1, 'user01')&quot;
psql -h mycluster-pgpool.pgouser1 -U postgres testdb -c &quot;select * from test&quot;
</code></pre>

<h6 id="list-databases-with-psql">List Databases with psql<a class="headerlink" href="#list-databases-with-psql" title="Permanent link">&para;</a></h6>
<pre><code>postgres=# \l
                                 List of databases
   Name    |  Owner   | Encoding |  Collate   |   Ctype    |   Access privileges
-----------+----------+----------+------------+------------+-----------------------
 postgres  | postgres | UTF8     | en_US.UTF8 | en_US.UTF8 |
 template0 | postgres | UTF8     | en_US.UTF8 | en_US.UTF8 | =c/postgres          +
           |          |          |            |            | postgres=CTc/postgres
 template1 | postgres | UTF8     | en_US.UTF8 | en_US.UTF8 | =c/postgres          +
           |          |          |            |            | postgres=CTc/postgres
 userdb    | postgres | UTF8     | en_US.UTF8 | en_US.UTF8 | =Tc/postgres         +
           |          |          |            |            | postgres=CTc/postgres+
           |          |          |            |            | testuser=CTc/postgres+
           |          |          |            |            | user1=CTc/postgres
(4 rows)
</code></pre>

<h6 id="access-from-another-pod-within-the-cluster-with-psql-client">Access from another POD within the cluster with psql client<a class="headerlink" href="#access-from-another-pod-within-the-cluster-with-psql-client" title="Permanent link">&para;</a></h6>
<p>For example with <a href="https://hub.docker.com/r/centos/postgresql-10-centos7">this psql client</a></p>
<pre><code>oc rsh postgresql-10-centos7-1-pjh46
sh-4.2$ psql -p 5432 -h mycluster-pgpool.pgouser1 -U postgres postgres
psql (10.6, server 11.3)
WARNING: psql major version 10, server major version 11.
         Some psql features might not work.
Type &quot;help&quot; for help.

postgres=#
</code></pre>

<h6 id="access-from-another-pod-within-the-cluster-with-pgadmin4-of-crunchy-containers-community-edition">Access from another POD within the cluster with Pgadmin4 of Crunchy containers Community Edition<a class="headerlink" href="#access-from-another-pod-within-the-cluster-with-pgadmin4-of-crunchy-containers-community-edition" title="Permanent link">&para;</a></h6>
<ul>
<li><a href="https://access.crunchydata.com/documentation/crunchy-postgres-containers/4.3.0/container-specifications/crunchy-pgadmin4/">crunchy-pgadmin4</a></li>
<li><a href="https://access.crunchydata.com/documentation/crunchy-postgres-containers/4.3.0/examples/administration/pgadmin4/">pgAdmin 4</a></li>
</ul>
<p><img alt="crunchdydata pgadmin" src="../images/crunchydata_pgadmin.png" /></p>
<h6 id="debugging-crunchydata-postgres-operator-401-community-edition">Debugging Crunchydata Postgres Operator 4.0.1 Community Edition<a class="headerlink" href="#debugging-crunchydata-postgres-operator-401-community-edition" title="Permanent link">&para;</a></h6>
<ul>
<li>Debug level logging in turned on by default when deploying the Operator.</li>
<li>Sample bash functions are supplied inexamples/envs.shto view the Operator logs.</li>
<li>You can view the Operator REST API logs with the<strong>alog</strong>bash function.</li>
<li>You can view the Operator core logic logs with the<strong>olog</strong>bash function.</li>
<li>You can view the Scheduler logs with the<strong>slog</strong>bash function.</li>
<li>You can enable thepgoCLI debugging with the following flag:
    <code>$ pgo version --debug</code></li>
<li>You can set the REST API URL as follows after a deployment if you are developing on your local host by executing the <strong>setip</strong>bash function.</li>
<li>alog, olog, slog and setip are defined in $HOME/.bashrc</li>
</ul>
<h5 id="certified-crunchydata-postgres-operator-olmoperatorhub-manual-setup">Certified Crunchydata Postgres Operator (OLM/OperatorHub). Manual Setup<a class="headerlink" href="#certified-crunchydata-postgres-operator-olmoperatorhub-manual-setup" title="Permanent link">&para;</a></h5>
<ul>
<li>We will set this up manually:<ul>
<li>StorageClass changed to gp2 in YAML file (AWS)</li>
<li>pgo tool compatibility issues</li>
</ul>
</li>
</ul>
<p><center>
<img alt="crunchdydata operatorhub install2" src="../images/crunchydata_operatorhub_install1.png" />
</center></p>
<p><img alt="crunchdydata operatorhub install2" src="../images/crunchydata_operatorhub_install2.png" /></p>
<ul>
<li>NO PODs are deployed -&gt; configuration needed:</li>
</ul>
<p><img alt="crunchdydata operatorhub install3" src="../images/crunchydata_operatorhub_install3.png" /></p>
<p><img alt="crunchdydata operatorhub install4" src="../images/crunchydata_operatorhub_install4.png" /></p>
<ul>
<li>Replica Sets: where PODs should be launched</li>
</ul>
<p><img alt="crunchdydata operatorhub install5" src="../images/crunchydata_operatorhub_install5.png" /></p>
<ul>
<li>ReplicaSets (environment) and Deployment:</li>
</ul>
<p><img alt="crunchdydata operatorhub install6" src="../images/crunchydata_operatorhub_install6.png" /></p>
<p><img alt="crunchdydata operatorhub install7" src="../images/crunchydata_operatorhub_install7.png" /></p>
<ul>
<li>Error detected. Solution: </li>
</ul>
<pre><code>oc adm policy add-scc-to-user anyuid system:serviceaccount:pgophub:default
</code></pre>

<p><img alt="crunchdydata operatorhub install8" src="../images/crunchydata_operatorhub_install8.png" /></p>
<ul>
<li>We see now a new POD being created:</li>
</ul>
<p><img alt="crunchdydata operatorhub install9" src="../images/crunchydata_operatorhub_install9.png" /></p>
<ul>
<li>New errors: secrets need to be setup:</li>
</ul>
<p><img alt="crunchdydata operatorhub install10" src="../images/crunchydata_operatorhub_install10.png" /></p>
<p><img alt="crunchdydata operatorhub install11" src="../images/crunchydata_operatorhub_install11.png" /></p>
<p><center>
<img alt="crunchdydata operatorhub install12" src="../images/crunchydata_operatorhub_install12.png" />
</center></p>
<ul>
<li>New errors: 3 secrets need to be setup manually -&gt; POD is started successfully and we have psql access.</li>
</ul>
<p><center>
<img alt="crunchdydata operatorhub install13" src="../images/crunchydata_operatorhub_install13.png" />
</center></p>
<p><center>
<img alt="crunchdydata operatorhub install14" src="../images/crunchydata_operatorhub_install14.png" />
</center></p>
<p><img alt="crunchdydata operatorhub install15" src="../images/crunchydata_operatorhub_install15.png" /></p>
<p><img alt="crunchdydata operatorhub install16" src="../images/crunchydata_operatorhub_install16.png" /></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../terraform/" title="Terraform & Packer" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Terraform & Packer
              </div>
            </div>
          </a>
        
        
          <a href="../nosql/" title="NoSQL Databases" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                NoSQL Databases
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2020 <a href="https://twitter.com/RedHatSpain">Red Hat Spain (unofficial linkedin group)</a>, <a href="https://redhatspain.github.io/about/">about</a>.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.36cbf620.min.js"></script>
      <script src="../assets/javascripts/bundle.00c583dd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.7f7c8775.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../javascript/extra.js"></script>
      
    
  </body>
</html>